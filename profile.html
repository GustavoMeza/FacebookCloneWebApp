<html>

<head>
<title>Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="style.css" />
<link rel="stylesheet" type="text/css" href="components/avatar/style.css" />
<link rel="stylesheet" type="text/css" href="components/name/style.css" />
<link rel="stylesheet" type="text/css" href="components/likesBanner/style.css" />
<link rel="stylesheet" type="text/css" href="components/comment/style.css" />
<link rel="stylesheet" type="text/css" href="components/commentComposer/style.css" />
<link rel="stylesheet" type="text/css" href="components/post/style.css" />
<link rel="stylesheet" type="text/css" href="components/nav/style.css" />
<link rel="stylesheet" type="text/css" href="components/profile/style.css" />
<link rel="stylesheet" type="text/css" href="components/wall/style.css" />
<script src="utils/requestHandler.js"></script>
<script src="utils/componentBuilder.js"></script>
<script src="components/avatar/controller.js"></script>
<script src="components/name/controller.js"></script>
<script src="components/likesBanner/controller.js"></script>
<script src="components/comment/controller.js"></script>
<script src="components/commentComposer/controller.js"></script>
<script src="components/commentList/controller.js"></script>
<script src="components/post/controller.js"></script>
<script src="components/profile/controller.js"></script>
<script src="components/wall_/controller.js"></script>
<script src="components/nav/controller.js"></script>
</head>

<body>

    <div id="container">
    </div>

<script>

let getProfileId = () => {
    let params = new URLSearchParams(window.location.search);  
    return userId = params.get("user"); 
};

let loadPage = () => { 
    let container = document.querySelector('#container');

    buildNav('')
        .then(navDOM => {
            container.appendChild(navDOM);
        });

    buildWall_(getProfileId())
        .then(wallDOM => {
            container.appendChild(wallDOM);
        });

}

validateAuth().then(loadPage);

</script>

</body>

</html>
